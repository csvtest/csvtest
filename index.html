<html>
    <head>
	    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <!-- Mappa -->
	    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
	    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
            <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
            <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
            <style id="jsbin-css">#map { height: 600px; border:solid;}</style>
       	    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
	    <script src="js/leaflet.ajax.min.js"></script>
	    <script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
	    
	    
    </head>
    <body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-lg-6">
				<div id='map'></div>
			</div>
			<div class="col-lg-6">
				<div class="information">
				</div>
				<div id="accordion">
				  <div class="card">
				    <div class="card-header" id="headingOne">
				      <h5 class="mb-0">
					<button id= "elezioniPUL" class="btn btn-link" data-toggle="collapse" data-target="#collELEZIONI" aria-expanded="true" aria-controls="collapseOne">
					  ELEZIONI 4 MARZO 2018
					</button>
				      </h5>
				    </div>

				    <div id="collELEZIONI" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
				      <div class="card-body">
					     
				      </div>
				    </div>
				  </div>
				  <div class="card">
				    <div class="card-header" id="headingTwo">
				      <h5 class="mb-0">
					<button id= "redditiPUL" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collREDDITI" aria-expanded="false" aria-controls="collapseTwo">
					  REDDITI 2009-2016
					</button>
				      </h5>
				    </div>
				    <div id="collREDDITI" class="collapse show" aria-labelledby="headingTwo" data-parent="#accordion">
				      <div class="card-body">
					<div id="chartContainer">
						<div id="redditiButton">seleziona una zona di Bologna per visualizzarne i dati </div>
					<canvas id="redditiChart" width="400" height="400"></canvas>
					</div>
					<div id="pulsante">
					</div>	
				      </div>
				    </div>
				  </div>
				  <div class="card">
				    <div class="card-header" id="headingThree">
				      <h5 class="mb-0">
					<button "segnalazioniPUL" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collSEGNA" aria-expanded="false" aria-controls="collapseThree">
					  SEGNALAZIONI 2017
					</button>
				      </h5>
				    </div>
				    <div id="collSEGNA" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
				      <div class="card-body">
					       <div id="grafoSegn"</div>
					      <script>
					 dataset = {
						    "children": [{"Name":"Olives","Count":4319},
							{"Name":"Tea","Count":4159},
							{"Name":"Mashed Potatoes","Count":2583},
							{"Name":"Boiled Potatoes","Count":2074},
							{"Name":"Milk","Count":1894},
							{"Name":"Chicken Salad","Count":1809},
							{"Name":"Vanilla Ice Cream","Count":1713},
							{"Name":"Cocoa","Count":1636},
							{"Name":"Lettuce Salad","Count":1566},
							{"Name":"Lobster Salad","Count":1511},
							{"Name":"Chocolate","Count":1489},
							{"Name":"Apple Pie","Count":1487},
							{"Name":"Orange Juice","Count":1423},
							{"Name":"American Cheese","Count":1372},
							{"Name":"Green Peas","Count":1341},
							{"Name":"Assorted Cakes","Count":1331},
							{"Name":"French Fried Potatoes","Count":1328},
							{"Name":"Potato Salad","Count":1306},
							{"Name":"Baked Potatoes","Count":1293},
							{"Name":"Roquefort","Count":1273},
							{"Name":"Stewed Prunes","Count":1268}]
						};

						var diameter = 600;
						var color = d3.scaleOrdinal(d3.schemeCategory20);

						var bubble = d3.pack(dataset)
						    .size([diameter, diameter])
						    .padding(1.5);

						var svg = d3.select("grafoSegn")
						    .append("svg")
						    .attr("width", diameter)
						    .attr("height", diameter)
						    .attr("class", "bubble");

						var nodes = d3.hierarchy(dataset)
						    .sum(function(d) { return d.Count; });

						var node = svg.selectAll(".node")
						    .data(bubble(nodes).descendants())
						    .enter()
						    .filter(function(d){
							return  !d.children
						    })
						    .append("g")
						    .attr("class", "node")
						    .attr("transform", function(d) {
							return "translate(" + d.x + "," + d.y + ")";
						    });

						node.append("title")
						    .text(function(d) {
							return d.Name + ": " + d.Count;
						    });

						node.append("circle")
						    .attr("r", function(d) {
							return d.r;
						    })
						    .style("fill", function(d,i) {
							return color(i);
						    });

						node.append("text")
						    .attr("dy", ".2em")
						    .style("text-anchor", "middle")
						    .text(function(d) {
							return d.data.Name.substring(0, d.r / 3);
						    })
						    .attr("font-family", "sans-serif")
						    .attr("font-size", function(d){
							return d.r/5;
						    })
						    .attr("fill", "white");

						node.append("text")
						    .attr("dy", "1.3em")
						    .style("text-anchor", "middle")
						    .text(function(d) {
							return d.data.Count;
						    })
						    .attr("font-family",  "Gill Sans", "Gill Sans MT")
						    .attr("font-size", function(d){
							return d.r/5;
						    })
						    .attr("fill", "white");

						d3.select(self.frameElement)
						    .style("height", diameter + "px");
				</script>
				      </div>
				    </div>
				  </div>
				</div>
				<script src="js/visualization.js"></script>
			</div>
		</div>
	</div>
    </body> 
</html>
